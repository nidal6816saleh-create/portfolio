<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teeth Shape Prediction Application - Nidal Saleh</title>
  <link rel="stylesheet" href="Teeth shape prediction application.css">
  <style>
    /* إضافة متغيرات الألوان */
    :root {
      --bg-dark: #020008;
      --nav-bg: #2c394c;
      --primary: #1d719d;
      --accent: #63dafc;
      --text-secondary: #908388;
      --text-light: #ffffff;
    }
    
    /* أنماط عامة للصفحة */
    body {
      margin: 0;
      padding: 0;
      background-color: var(--bg-dark);
      color: white;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .title {
      text-align: center;
      color: var(--accent);
      margin-bottom: 40px;
      font-size: 2.5rem;
      transition: all 0.3s ease;
    }
    
    .title:hover {
      transform: translateY(-5px);
      text-shadow: 0 5px 15px rgba(99, 218, 252, 0.4);
    }
    
    .section {
      background: rgba(44, 57, 76, 0.7);
      padding: 30px;
      margin: 30px 0;
      border-radius: 10px;
      border-left: 4px solid var(--accent);
      transition: all 0.3s ease;
    }
    
    .section:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      border-left: 4px solid var(--accent);
    }
    
    .section h2 {
      color: var(--accent);
      margin-bottom: 20px;
      transition: all 0.3s ease;
    }
    
    .section:hover h2 {
      transform: translateX(10px);
      text-shadow: 0 2px 10px rgba(99, 218, 252, 0.3);
    }
    
    .section ul {
      list-style: none;
      padding: 0;
    }
    
    .section li {
      padding: 12px 0;
      color: var(--text-secondary);
      position: relative;
      padding-left: 35px;
      border-bottom: 1px solid rgba(99, 218, 252, 0.1);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .section li:hover {
      color: var(--accent);
      transform: translateX(10px);
      background: rgba(99, 218, 252, 0.05);
      border-radius: 5px;
      padding-left: 40px;
    }
    
    .section li:before {
      content: "▸";
      color: var(--accent);
      position: absolute;
      left: 15px;
      transition: all 0.3s ease;
    }
    
    .section li:hover:before {
      transform: scale(1.5);
      color: var(--primary);
    }

    .section p {
      color: var(--text-secondary);
      line-height: 1.8;
      transition: all 0.3s ease;
      padding: 10px;
      border-radius: 5px;
    }
    
    .section:hover p {
      color: var(--text-light);
      background: rgba(99, 218, 252, 0.05);
      transform: translateX(5px);
    }

    /* أنماط قسم المميزات - مع تأثيرات حركة */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }

    .feature-card {
      background: linear-gradient(135deg, rgba(29, 113, 157, 0.2) 0%, rgba(44, 57, 76, 0.7) 100%);
      padding: 30px 25px;
      border-radius: 15px;
      text-align: center;
      transition: all 0.3s ease;
      border: 1px solid rgba(99, 218, 252, 0.2);
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--primary));
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0,0,0,0.4);
      border-color: rgba(99, 218, 252, 0.6);
    }
    
    .feature-card:hover::before {
      height: 6px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
    }

    .feature-icon {
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      font-size: 1.8rem;
      color: white;
      box-shadow: 0 8px 20px rgba(29, 113, 157, 0.4);
      transition: all 0.3s ease;
    }

    .feature-card:hover .feature-icon {
      transform: scale(1.2) rotate(10deg);
      box-shadow: 0 12px 25px rgba(29, 113, 157, 0.6);
    }

    .feature-card h3 {
      color: var(--accent);
      margin-bottom: 15px;
      font-size: 1.3rem;
      transition: all 0.3s ease;
    }
    
    .feature-card:hover h3 {
      transform: translateY(-5px);
      text-shadow: 0 2px 8px rgba(99, 218, 252, 0.4);
    }

    .feature-card p {
      color: var(--text-secondary);
      line-height: 1.6;
      margin: 0;
      transition: all 0.3s ease;
    }
    
    .feature-card:hover p {
      color: var(--text-light);
      transform: translateY(-2px);
    }

    /* تأثيرات ألوان مختلفة عند hover */
    .feature-card:nth-child(1):hover .feature-icon {
      background: linear-gradient(135deg, #FF6B6B, #FF8E53);
    }

    .feature-card:nth-child(2):hover .feature-icon {
      background: linear-gradient(135deg, #4ECDC4, #44A08D);
    }

    .feature-card:nth-child(3):hover .feature-icon {
      background: linear-gradient(135deg, #FFD93D, #FF9C3D);
    }

    .feature-card:nth-child(4):hover .feature-icon {
      background: linear-gradient(135deg, #6B73FF, #000DFF);
    }
    
    /* تأثيرات على العناصر القوية */
    .section strong {
      color: var(--accent);
      transition: all 0.3s ease;
      padding: 2px 5px;
      border-radius: 3px;
    }
    
    .section li:hover strong {
      background: rgba(99, 218, 252, 0.2);
      transform: scale(1.05);
    }
    
    /* تأثيرات على العناوين الفرعية */
    .section h3 {
      color: var(--primary);
      margin: 20px 0 10px 0;
      transition: all 0.3s ease;
      padding-left: 10px;
      border-left: 3px solid transparent;
    }
    
    .section:hover h3 {
      border-left-color: var(--accent);
      transform: translateX(5px);
    }

    /* أنماط الفيديو المحسن */
    .video-container {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(0,0,0,0.5);
      border: 3px solid rgba(99, 218, 252, 0.3);
      aspect-ratio: 16/9; /* نسبة ثابتة لجميع الفيديوهات */
      background: #000;
    }

    .video-player {
      width: 100%;
      height: 100%;
      object-fit: contain; /* الحفاظ على نسبة العرض دون اقتصاص */
      display: block;
      background: #000;
    }

    .video-controls {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(0,0,0,0.9));
      padding: 15px 10px 8px;
      display: flex;
      align-items: center;
      gap: 10px;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 10;
    }

    .video-container:hover .video-controls {
      opacity: 1;
    }

    .control-btn {
      background: rgba(99, 218, 252, 0.8);
      border: none;
      color: white;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      flex-shrink: 0;
    }

    .control-btn:hover {
      background: var(--accent);
      transform: scale(1.1);
    }

    .control-btn:active {
      transform: scale(0.95);
    }

    .volume-control {
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1;
      min-width: 0;
    }

    .volume-slider {
      flex: 1;
      height: 4px;
      background: rgba(255,255,255,0.3);
      border-radius: 2px;
      outline: none;
      -webkit-appearance: none;
      min-width: 50px;
    }

    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: var(--accent);
      cursor: pointer;
    }

    .time-display {
      color: white;
      font-size: 0.8rem;
      font-weight: 600;
      min-width: 90px;
      text-align: center;
      flex-shrink: 0;
    }

    .video-label {
      position: absolute;
      top: 15px;
      left: 15px;
      background: rgba(0,0,0,0.7);
      color: var(--accent);
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      z-index: 5;
    }

    /* تحسين عرض الفيديو في المعرض */
    .gallery-slide {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 450px;
    }

    .gallery-slide img {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    }
    
    /* تنسيق المعرض */
    .image-gallery {
      position: relative;
      margin-bottom: 40px;
    }
    
    .gallery-container {
      position: relative;
    }
    
    .gallery-slide {
      display: none;
    }
    
    .gallery-slide.active {
      display: flex;
    }
  </style>
</head>
<body>
  <div class="container">

    <h1 class="title">Teeth Shape Prediction Application</h1>

    <!-- Image Gallery -->
    <div class="image-gallery">
      <div class="gallery-container">
        <!-- الشريحة الأولى - الفيديو -->
        <div class="gallery-slide active">
          <div class="video-container">
            <span class="video-label">Main Demo</span>
            <video class="video-player" id="video1" poster="" preload="metadata">
              <source src="../assets/videos/bandicam 2025-09-20 01-18-47-824.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="video-controls">
              <button class="control-btn play-btn" data-video="1">
                <i class="fas fa-play"></i>
              </button>
              <button class="control-btn mute-btn" data-video="1">
                <i class="fas fa-volume-up"></i>
              </button>
              <div class="volume-control">
                <input type="range" class="volume-slider" data-video="1" min="0" max="1" step="0.1" value="1">
              </div>
              <span class="time-display" id="time1">0:00 / 0:00</span>
              <button class="control-btn fullscreen-btn" data-video="1">
                <i class="fas fa-expand"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- الشريحة الثانية - فيديو -->
        <div class="gallery-slide">
          <div class="video-container">
            <span class="video-label">Process Demo</span>
            <video class="video-player" id="video2" poster="" preload="metadata">
              <source src="../assets/videos/intro.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="video-controls">
              <button class="control-btn play-btn" data-video="2">
                <i class="fas fa-play"></i>
              </button>
              <button class="control-btn mute-btn" data-video="2">
                <i class="fas fa-volume-up"></i>
              </button>
              <div class="volume-control">
                <input type="range" class="volume-slider" data-video="2" min="0" max="1" step="0.1" value="1">
              </div>
              <span class="time-display" id="time2">0:00 / 0:00</span>
              <button class="control-btn fullscreen-btn" data-video="2">
                <i class="fas fa-expand"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- الشريحة الثالثة - فيديو -->
        <div class="gallery-slide">
          <div class="video-container">
            <span class="video-label">AI Prediction Demo</span>
            <video class="video-player" id="video3" poster="" preload="metadata">
              <source src="../assets/videos/pi.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="video-controls">
              <button class="control-btn play-btn" data-video="3">
                <i class="fas fa-play"></i>
              </button>
              <button class="control-btn mute-btn" data-video="3">
                <i class="fas fa-volume-up"></i>
              </button>
              <div class="volume-control">
                <input type="range" class="volume-slider" data-video="3" min="0" max="1" step="0.1" value="1">
              </div>
              <span class="time-display" id="time3">0:00 / 0:00</span>
              <button class="control-btn fullscreen-btn" data-video="3">
                <i class="fas fa-expand"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- الشريحة الرابعة - صورة -->
        <div class="gallery-slide">
          <img src="../assets/images/1.jpg" alt="3D Teeth Modeling">
        </div>

        <!-- الشريحة الخامسة - صورة -->
        <div class="gallery-slide">
          <img src="../assets/images/2.jpg" alt="Machine Learning Process">
        </div>


        <!-- الشريحة السادسة  - فيديو -->
        <div class="gallery-slide">
          <div class="video-container">
            <span class="video-label">Interface Demo</span>
            <video class="video-player" id="video7" poster="" preload="metadata">
              <source src="../assets/videos/lo.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="video-controls">
              <button class="control-btn play-btn" data-video="7">
                <i class="fas fa-play"></i>
              </button>
              <button class="control-btn mute-btn" data-video="7">
                <i class="fas fa-volume-up"></i>
              </button>
              <div class="volume-control">
                <input type="range" class="volume-slider" data-video="7" min="0" max="1" step="0.1" value="1">
              </div>
              <span class="time-display" id="time7">0:00 / 0:00</span>
              <button class="control-btn fullscreen-btn" data-video="7">
                <i class="fas fa-expand"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- الشريحة السابعة - صورة -->
        <div class="gallery-slide">
          <img src="../assets/images/3.jpg" alt="Machine Learning Process">
        </div>
        


        <!-- الشريحة الثامنة  - فيديو -->
        <div class="gallery-slide">
          <div class="video-container">
            <span class="video-label">Data Demo</span>
            <video class="video-player" id="video9" poster="" preload="metadata">
              <source src="../assets/videos/qu.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="video-controls">
              <button class="control-btn play-btn" data-video="9">
                <i class="fas fa-play"></i>
              </button>
              <button class="control-btn mute-btn" data-video="9">
                <i class="fas fa-volume-up"></i>
              </button>
              <div class="volume-control">
                <input type="range" class="volume-slider" data-video="9" min="0" max="1" step="0.1" value="1">
              </div>
              <span class="time-display" id="time9">0:00 / 0:00</span>
              <button class="control-btn fullscreen-btn" data-video="9">
                <i class="fas fa-expand"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- الشريحة التاسعة - صورة -->
        <div class="gallery-slide">
          <img src="../assets/images/4.jpg" alt="User Interface">
        </div>


        <!-- الشريحة العاشرة  - فيديو -->
        <div class="gallery-slide">
          <div class="video-container">
            <span class="video-label">System Demo</span>
            <video class="video-player" id="video11" poster="" preload="metadata">
              <source src="../assets/videos/yo.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="video-controls">
              <button class="control-btn play-btn" data-video="11">
                <i class="fas fa-play"></i>
              </button>
              <button class="control-btn mute-btn" data-video="11">
                <i class="fas fa-volume-up"></i>
              </button>
              <div class="volume-control">
                <input type="range" class="volume-slider" data-video="11" min="0" max="1" step="0.1" value="1">
              </div>
              <span class="time-display" id="time11">0:00 / 0:00</span>
              <button class="control-btn fullscreen-btn" data-video="11">
                <i class="fas fa-expand"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- الشريحة الحادية عشر - صورة -->
        <div class="gallery-slide">
          <img src="../assets/images/5.jpg" alt="Accuracy Metrics">
        </div>

        <!-- الشريحة الثانية عشر - صورة -->
        <div class="gallery-slide">
          <img src="../assets/images/6.jpg" alt="System Architecture">
        </div>

        <!-- الشريحة الثالثة عشر - صورة -->
        <div class="gallery-slide">
          <img src="../assets/images/7.jpg" alt="System Architecture">
        </div>

        <button class="gallery-nav gallery-prev">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button class="gallery-nav gallery-next">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
      <div class="gallery-dots">
        <!-- سيتم إضافة النقاط ديناميكياً -->
      </div>
    </div>

    <!-- باقي المحتوى يبقى كما هو -->
    <!-- Description -->
    <section class="section">
      <h2>Description</h2>
      <p>
The "Tooth Shape Prediction" application is an intelligent system that uses artificial intelligence and computer vision to analyze facial features and predict the most suitable tooth shape for each individual. The application uses deep learning models to determine the optimal tooth shape that complements the user's facial features. This project aims to assist patients in starting treatment, or to help dentists design the perfect smile before treatment begins.  It also includes a trained "YOLO" model for detecting oral diseases such as cavities by analyzing X-ray images.
      </p>
    </section>

    <!-- Features Section -->
    <section class="section">
      <h2>Key Features</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-tooth"></i>
          </div>
          <h3>AI-Powered Analysis</h3>
          <p>An advanced machine learning model predicts the shape of teeth based on the entered prompt.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <h3>Similarity measurement</h3>
          <p>Use CLIP and LPIPS to measure the similarity between the predicted image and the original image after processing.</p>
        </div>
      </div>
    </section>

    <!-- Technologies Used -->
    <section class="section">
      <h2>Technologies Used</h2>
      <ul>
        <li>Python (Core Programming Language)</li>
        <li>OpenCV (Image Processing)</li>
        <li>pytorch(Deep Learning Framework)</li>
        <li>MediaPipe (Facial Landmark Detection)</li>
        <li>LPIPS and CLIP (To measure similarity)</li>
        <li>YOLO (object detection)</li>
      </ul>
    </section>

    <!-- Mechanism of Action -->
    <section class="section">
      <h2>Mechanism of Action</h2>
      <p>The tooth shape prediction app works when the user uploads a clear photo of the patient's face from the camera or gallery.
        The app then processes the image using libraries such as OpenCV and MediaPipe to detect important facial features, such as the eyes, nose, lips, and jaw.
        A set of digital features representing facial shape and symmetry are extracted from the image.
        These features are then fed to a deep learning model pre-trained on a set of images classified by tooth shape.
        The model analyzes these features and predicts the most suitable tooth shape, displaying the similarity percentage between the predicted image and the final post-treatment image using a sophisticated artificial intelligence model.
        In addition to tooth shape prediction, the system integrates a YOLO (You Only Look Once) deep learning model to automatically detect common dental diseases such as tooth decay (caries),
        plaque buildup, gum inflammation, and cracks from intraoral or smile images. YOLO works by scanning the image in real time and identifying pathological regions with high accuracy using bounding boxes and confidence scores.
        This allows the app not only to recommend the ideal tooth shape but also to provide an early diagnostic insight into the patient’s oral health condition.
      <hr>
        Finally, the app displays the predicted tooth shape and detected dental issues using a Generative Adversarial Network (GAN) to simulate the expected post-treatment appearance. All results are presented in a simple, interactive interface where the user can view the suggested tooth shape, detected problems, and treatment visualization, with the ability to easily save or share the results.
      </p>
    </section>

  </div>

  <!-- إضافة Font Awesome للأيقونات -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="Teeth shape prediction application.js"></script>
  
  <!-- كود التحكم بالفيديو المحسن -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // تهيئة جميع الفيديوهات
      const videos = {};
      
      // دالة لتهيئة فيديو
      function initVideo(videoNumber) {
        const videoId = `video${videoNumber}`;
        const video = document.getElementById(videoId);
        
        if (!video) return;
        
        videos[videoNumber] = {
          element: video,
          playBtn: document.querySelector(`.play-btn[data-video="${videoNumber}"]`),
          muteBtn: document.querySelector(`.mute-btn[data-video="${videoNumber}"]`),
          volumeSlider: document.querySelector(`.volume-slider[data-video="${videoNumber}"]`),
          timeDisplay: document.getElementById(`time${videoNumber}`),
          fullscreenBtn: document.querySelector(`.fullscreen-btn[data-video="${videoNumber}"]`)
        };

        const v = videos[videoNumber];
        
        // تشغيل/إيقاف
        v.playBtn.addEventListener('click', function() {
          if (video.paused) {
            video.play();
            v.playBtn.innerHTML = '<i class="fas fa-pause"></i>';
          } else {
            video.pause();
            v.playBtn.innerHTML = '<i class="fas fa-play"></i>';
          }
        });

        // كتم الصوت
        v.muteBtn.addEventListener('click', function() {
          video.muted = !video.muted;
          v.muteBtn.innerHTML = video.muted ? 
            '<i class="fas fa-volume-mute"></i>' : 
            '<i class="fas fa-volume-up"></i>';
        });

        // التحكم في مستوى الصوت
        v.volumeSlider.addEventListener('input', function() {
          video.volume = v.volumeSlider.value;
          video.muted = (v.volumeSlider.value == 0);
          v.muteBtn.innerHTML = (v.volumeSlider.value == 0) ? 
            '<i class="fas fa-volume-mute"></i>' : 
            '<i class="fas fa-volume-up"></i>';
        });

        // تحديث الوقت
        video.addEventListener('timeupdate', function() {
          const currentTime = formatTime(video.currentTime);
          const duration = formatTime(video.duration);
          v.timeDisplay.textContent = `${currentTime} / ${duration}`;
        });

        // وضع ملء الشاشة
        v.fullscreenBtn.addEventListener('click', function() {
          const container = video.closest('.video-container');
          if (container.requestFullscreen) {
            container.requestFullscreen();
          } else if (container.webkitRequestFullscreen) {
            container.webkitRequestFullscreen();
          } else if (container.msRequestFullscreen) {
            container.msRequestFullscreen();
          }
        });

        // تغيير الأيقونة عند انتهاء الفيديو
        video.addEventListener('ended', function() {
          v.playBtn.innerHTML = '<i class="fas fa-redo"></i>';
        });

        // إعادة التشغيل عند النقر بعد الانتهاء
        v.playBtn.addEventListener('click', function() {
          if (video.ended) {
            video.currentTime = 0;
            video.play();
            v.playBtn.innerHTML = '<i class="fas fa-pause"></i>';
          }
        });

        // تشغيل الفيديو عند النقر عليه مباشرة
        video.addEventListener('click', function() {
          if (video.paused) {
            video.play();
            v.playBtn.innerHTML = '<i class="fas fa-pause"></i>';
          } else {
            video.pause();
            v.playBtn.innerHTML = '<i class="fas fa-play"></i>';
          }
        });

        // عند تحميل بيانات الفيديو
        video.addEventListener('loadedmetadata', function() {
          v.timeDisplay.textContent = `0:00 / ${formatTime(video.duration)}`;
        });
      }

      // دالة تنسيق الوقت
      function formatTime(seconds) {
        if (isNaN(seconds)) return "0:00";
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs.toString().padStart(2, '0')}`;
      }

      // تهيئة جميع الفيديوهات (1, 2, 3, 5, 7, 9, 11)
      const videoNumbers = [1, 2, 3, 5, 7, 9, 11];
      videoNumbers.forEach(num => initVideo(num));
      
      // إيقاف الفيديوهات عند تغيير الشرائح
      const galleryPrev = document.querySelector('.gallery-prev');
      const galleryNext = document.querySelector('.gallery-next');
      
      function stopAllVideos() {
        videoNumbers.forEach(num => {
          if (videos[num]) {
            const video = videos[num].element;
            if (!video.paused) {
              video.pause();
              videos[num].playBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
          }
        });
      }
      
      if (galleryPrev) galleryPrev.addEventListener('click', stopAllVideos);
      if (galleryNext) galleryNext.addEventListener('click', stopAllVideos);
      
      // تتبع التغيير في وضع ملء الشاشة
      document.addEventListener('fullscreenchange', handleFullscreenChange);
      document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
      document.addEventListener('msfullscreenchange', handleFullscreenChange);
      
      function handleFullscreenChange() {
        const isFullscreen = document.fullscreenElement || 
                           document.webkitFullscreenElement || 
                           document.msFullscreenElement;
        
        if (!isFullscreen) {
          // عند الخروج من وضع ملء الشاشة، أعد ضبط حجم الفيديو
          videoNumbers.forEach(num => {
            if (videos[num]) {
              const video = videos[num].element;
              video.style.objectFit = 'contain';
            }
          });
        }
      }
    });
  </script>
</body>

</html>


